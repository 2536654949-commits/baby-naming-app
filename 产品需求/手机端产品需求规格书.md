# 手机端产品需求PRD文档
| 文档版本 | V1.3 |
| --- | --- |
| 创建日期 | 2025-12-27 |
| 更新日期 | 2026-01-23 |
| 产品类型 | 移动端Web应用 |
| 目标用户 | 准爸妈、新生儿家长 |

## 版本变更记录
| 版本 | 日期 | 变更内容 |
| --- | --- | --- |
| V1.0 | 2025-12-27 | 初始版本 |
| V1.1 | 2026-01-23 | 基于前端代码反推补充遗漏功能 |
| V1.2 | 2026-01-23 | 业务调整：一客一码销毁机制、去除次数限制、移除分享/播放读音功能 |
| V1.3 | 2026-01-23 | 补充后端业务逻辑：授权码有效期、Token恢复、历史记录保存、收藏同步、频率限制粒度 |


---

## 目录
1. [产品概述](#1-产品概述)
2. [产品定位](#2-产品定位)
3. [用户画像](#3-用户画像)
4. [功能需求](#4-功能需求)
5. [用户故事](#5-用户故事)
6. [交互流程设计](#6-交互流程设计)

---

## 1. 产品概述
### 1.1 产品简介
一款基于智谱AI大模型的移动端宝宝起名工具，采用"一客一码"付费授权模式。用户通过输入授权码激活使用，AI根据宝宝信息智能推荐优质名字，并提供详细的文化解析。

### 1.2 核心价值
| 维度 | 价值说明 |
| --- | --- |
| **用户价值** | 省时省力、专业可靠、寓意深远、文化底蕴 |
| **商业价值** | 一客一码变现模式、低成本高利润、易复制推广 |
| **技术价值** | AI驱动、智能化程度高、可快速迭代 |


### 1.3 产品特色
+ ✅ **AI智能起名**：基于智谱GLM-4大模型，专业起名能力
+ ✅ **一客一码**：简单清晰的付费授权模式
+ ✅ **移动端优先**：专为手机使用场景优化
+ ✅ **深度解析**：每个名字都有详细寓意和文化出处
+ ✅ **即开即用**：无需注册，授权码即可使用

---

## 2. 产品定位
### 2.1 市场定位
```plain
           高端定制
               ▲
               │
   起名大师    │    AI起名助手
   (¥500+)    │    (¥29-99)
               │
   传统起名书  │    免费起名网站
   (¥50-100)  │    (广告变现)
               ▼
           大众工具
```

**定位说明**：

+ 价格区间：中等价位（¥29-99/次）
+ 目标市场：追求品质但预算有限的年轻父母
+ 竞争优势：AI赋能 + 文化内涵 + 性价比

### 2.2 目标市场
| 市场细分 | 描述 | 占比预估 |
| --- | --- | --- |
| 准爸妈孕期准备 | 孕期就开始考虑宝宝名字 | 40% |
| 新生儿刚出生 | 宝宝出生后需要起名 | 50% |
| 改名需求 | 对现有名字不满意 | 10% |


---

## 3. 用户画像
### 3.1 核心用户
**用户A：准妈妈小林**

```plain
基本信息：
- 年龄：28岁
- 身份：孕晚期准妈妈
- 职业：公司白领
- 所在地：二线城市

需求特征：
- 希望宝宝名字有文化内涵
- 不懂五行八字，希望AI专业分析
- 预算有限，愿意为专业服务付费50元左右
- 喜欢简洁、现代的名字风格

使用场景：
- 孕期闲暇时间用手机浏览
- 和老公一起挑选名字
- 关注名字寓意和读音
```

**用户B：新手爸爸小王**

```plain
基本信息：
- 年龄：30岁
- 身份：刚当爸爸
- 职业：互联网从业者
- 所在地：一线城市

需求特征：
- 工作忙，没时间研究起名
- 相信AI技术能力
- 追求效率和品质
- 希望名字既有传统又不过时

使用场景：
- 宝宝出生后快速起名
- 晚上在家用手机操作
- 需要快速得到结果
```

### 3.2 用户痛点
| 痛点 | 影响 | 解决方案 |
| --- | --- | --- |
| 不懂起名知识 | 担心起错名字影响孩子 | AI专业分析 |
| 名字太多无法选择 | 选择困难 | 智能推荐5个精选名字 |
| 担心谐音不好 | 怕被同学起外号 | AI自动检测谐音 |
| 名字太俗气或生僻 | 影响孩子社交 | 平衡流行度和个性 |
| 找大师起名太贵 | 预算有限 | 亲民价格 |


---

## 4. 功能需求
### 4.1 功能架构图
```plain
┌─────────────────────────────────────────────────────────┐
│                    宝宝起名移动端应用                      │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  授权系统    │  │  起名核心    │  │  结果展示    │  │
│  │              │  │              │  │              │  │
│  │ • 输入授权码 │  │ • 姓氏输入   │  │ • 名字列表   │  │
│  │ • 验证激活   │  │ • 性别选择   │  │ • 详情查看   │  │
│  │ • 状态管理   │  │ • 出生时间   │  │ • 收藏功能   │  │
│  │ • 设备绑定   │  │ • 特殊要求   │  │ • 分享功能   │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
│                                                          │
│  ┌──────────────────────────────────────────────────┐  │
│  │                   AI引擎                          │  │
│  │  • 智谱GLM-4调用  • 提示词优化  • 结果解析      │  │
│  └──────────────────────────────────────────────────┘  │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 4.2 功能优先级
| 优先级 | 功能模块 | 说明 |
| --- | --- | --- |
| **P0** | 授权码验证 | 核心商业逻辑，必须实现 |
| **P0** | AI起名核心 | 核心功能，必须实现 |
| **P0** | 结果展示 | 用户价值交付，必须实现 |
| **P0** | 底部导航栏 | 核心导航结构，首页/历史/收藏 |
| **P1** | 详情解析 | 增强用户体验，首批实现 |
| **P1** | 收藏功能 | 用户留存，首批实现 |
| **P1** | 历史记录 | **已实现**完整功能，时间线展示 |
| **P1** | 收藏筛选 | 全部/高分推荐/最新添加筛选 |
| **P1** | 再来一组 | 结果页底部快速重新起名 |
| **P1** | 微信客服 | 激活页客服号：zewzewz |
| **P1** | 频率限制 | 防止频繁调用AI模型 |


### 4.3 功能详细规格
#### 功能1：授权码激活 (P0)
**功能描述**：用户输入授权码，系统验证后激活使用权限，采用"一客一码"机制

**输入项**：

| 字段 | 类型 | 必填 | 验证规则 | 示例 |
| --- | --- | --- | --- | --- |
| 授权码 | 文本 | 是 | 16位，格式BABY-XXXX-XXXX-XXXX | BABY-A3F7-92D1-4E8C |


**业务规则**：

1. 授权码格式验证：必须是`BABY-`开头，共16位
2. **一客一码机制**：
    - 未激活 → 允许激活
    - **激活成功后立即销毁授权码**，授权码状态变为"已使用"
    - 已使用的授权码无法再次激活
    - 用户激活后可无限次使用起名功能
3. 设备绑定：首次激活时绑定设备指纹（基于User-Agent + IP）
4. 激活成功后，生成JWT Token，存储在localStorage
5. Token有效期：长期有效（除非用户清除浏览器数据）

**授权码有效期**：

| 场景 | 有效期 | 说明 |
| --- | --- | --- |
| 未激活授权码 | 购买后90天内 | 超过90天未激活则过期，无法使用 |
| 已激活授权码 | 长期有效 | 激活后永久可用，无时间限制 |

**Token恢复机制**：

用户清除浏览器数据或更换设备时，可使用原授权码重新激活：
- 系统验证该授权码是否已被使用
- 若已使用且设备指纹匹配，直接恢复Token
- 若已使用但设备指纹不匹配，提示"该授权码已在其他设备激活，请联系客服"
- 记录激活时间、设备信息用于安全审计

**交互流程**：

```plain
[用户进入]
  → 显示授权码输入页面
  → 用户输入授权码
  → 点击【激活】按钮
  → 前端格式验证
  → 调用后端验证接口
  → 显示加载状态
  → 验证成功 → 存储Token → 跳转起名页面
  → 验证失败 → 显示错误提示
```

**错误提示**：

| 错误场景 | 提示文案 |
| --- | --- |
| 格式错误 | "授权码格式不正确，请检查" |
| 授权码不存在 | "授权码无效，请确认后重新输入" |
| 授权码已使用 | "该授权码已被使用，每个授权码仅限激活一次" |
| 授权码过期 | "授权码已过期，请重新购买" |

**客服支持**：
- 激活页面底部提供"如何获取授权码？"按钮
- 点击弹出模态框，显示微信客服号：`zewzewz`
- 提供"一键复制微信号"功能
- 底部隐私说明："受加密技术保护，确保您的数据安全。您的隐私是我们的首要任务。"


---

#### 功能2：底部导航栏 (P0)
**功能描述**：应用底部固定导航，包含首页、历史、收藏三个入口

**展示位置**：页面底部固定，仅在首页、历史页、收藏页显示

**导航项**：

| 图标 | 文字 | 跳转路径 | 激活状态 |
| --- | --- | --- | --- |
| 🏠 home | 首页 | / | 当前路径为/时高亮 |
| 📅 history | 历史 | /history | 当前路径为/history时高亮 |
| ❤ favorite | 收藏 | /favorites | 当前路径为/favorites时高亮 |

**交互规则**：
- 激活页、输入页、加载页、结果页、详情页不显示底部导航
- 点击导航项切换页面，支持图标填充效果
- 使用毛玻璃背景效果（`backdrop-blur-lg`）

---

#### 功能3：起名信息录入 (P0)
**功能描述**：收集宝宝基本信息，作为AI起名的输入

**输入表单**：

| 字段 | 类型 | 必填 | 交互方式 | 示例 |
| --- | --- | --- | --- | --- |
| 姓氏 | 文本 | 是 | 输入框 | 李 |
| 宝宝性别 | 单选 | 是 | 单选按钮（男/女/未知） | 男 |
| 出生日期 | 日期 | 否 | 日期选择器 | 2025-01-01 |
| 出生时间 | 时间 | 否 | 时间选择器 | 14:30 |
| 特殊要求 | 文本 | 否 | 多行文本框（最多200字） | 希望带"水"字旁 |


**表单验证**：

1. 姓氏：1-2个汉字，不能为空
2. 性别：必选
3. 日期时间：可选，不选不影响起名
4. 特殊要求：可选，最多200字

**默认值**：

+ 出生日期：当天
+ 出生时间：当前时间

---

#### 功能4：AI起名生成 (P0)
**功能描述**：调用智谱AI API，根据输入信息生成名字推荐

**AI提示词设计**：

```plain
角色设定：
你是一位拥有20年经验的起名大师，精通周易五行、古诗词、现代美学。

任务：
根据用户提供的宝宝信息，生成5个精选名字。

输入信息：
- 姓氏：{surname}
- 性别：{gender}
- 出生日期：{birthDate}（如提供）
- 出生时间：{birthTime}（如提供）
- 特殊要求：{requirements}

起名标准：
1. 寓意美好：名字要有积极的寓意和内涵
2. 音律和谐：声调搭配，朗朗上口，无不好谐音
3. 字形美观：结构匀称，书写流畅
4. 文化底蕴：优先从诗词典故中取材
5. 时代感：既要有传统底蕴，又要符合现代审美
6. 避免生僻：使用GB2312常用字，方便生活

输出要求：
严格按以下JSON格式输出，不要任何额外文字：

{
  "names": [
    {
      "name": "名字（不含姓氏）",
      "full_name": "完整姓名",
      "pinyin": "拼音标注",
      "meaning": "详细寓意解释（100字以内）",
      "cultural_source": "诗词典故出处（如有，没有则写'无'）",
      "wuxing_analysis": "五行分析（如提供出生时间）",
      "score": 95,
      "highlight": "最突出的亮点（一句话）"
    }
  ]
}

注意事项：
- 不要输出JSON以外的任何内容
- 确保5个名字风格各异，给用户更多选择
- 评分要客观，90分以上为优质
- 如果用户提供了特殊要求，必须优先满足
```

**API调用参数**：

```javascript
{
  model: "glm-4.7",
  messages: [
    {
      role: "user",
      content: "<上述提示词>"
    }
  ],
  temperature: 0.8,  // 适度创造性
  top_p: 0.9,
  max_tokens: 2000
}
```

**生成过程**：

```plain
[用户点击【开始起名】]
  → 前端表单验证
  → 显示加载动画（AI正在思考...）
  → 调用后端起名接口
  → 后端调用智谱API
  → 解析AI返回结果
  → 存储使用记录
  → 返回前端
  → 前端展示结果列表
  → 错误处理：API失败时提示用户稍后重试
```

**加载状态文案**（根据进度0-100%动态变化）：

| 进度区间 | 显示文案 |
| --- | --- |
| 0-30% | "正在分析姓氏特点..." |
| 30-70% | "正在查阅诗词典故..." |
| 70-90% | "正在筛选最佳组合..." |
| 90-100% | "AI正在深度计算中..." |

**加载页视觉元素**：
- 圆形进度条（0-100%）
- 中央宝宝图标 + 星星装饰动画
- 脉冲动画圆圈效果
- 温馨提示框："为了呈现最佳寓意，AI正在深度计算中，好名字值得片刻等待"

**错误处理**：

| 错误类型 | 用户提示 |
| --- | --- |
| API超时 | "起名时间较长，请稍候..." |
| API失败 | "服务繁忙，请稍后重试" |
| 解析失败 | "生成结果异常，请重试" |
| 频率限制 | "操作过于频繁，请稍后再试" |

**频率限制机制**：
- **限制粒度**：基于用户ID（从JWT Token解析）
- **限制范围**：仅限制起名请求，不限制查看历史/收藏等操作
- **限制时长**：两次起名请求间隔需≥30秒
- **限制对象**：仅对已激活用户生效，未激活用户无法起名
- **超限处理**：超出限制时显示"操作过于频繁，请稍后再试"，前端显示倒计时


---

#### 功能5：结果列表展示 (P0)
**功能描述**：卡片式展示AI生成的5个名字

**页面布局**：

```plain
┌─────────────────────────┐
│  🎉 已为您生成5个好名字   │
├─────────────────────────┤
│                         │
│  ┌───────────────────┐ │
│  │   李泽言          │ │
│  │   Lǐ Zé Yán      │ │
│  │                   │ │
│  │   ⭐ 95分         │ │
│  │   恩泽之言，润物   │ │
│  │   无声            │ │
│  │                   │ │
│  │   [查看详情 →]    │ │
│  └───────────────────┘ │
│                         │
│  ┌───────────────────┐ │
│  │   李明轩          │ │
│  │   ...             │ │
│  └───────────────────┘ │
│                         │
│  ...（共5个卡片）       │
│                         │
└─────────────────────────┘
```

**卡片内容**：

| 元素 | 显示内容 |
| --- | --- |
| 名字 | 大字显示，突出 |
| 拼音 | 小字，灰色 |
| 评分 | 星级 + 分数 |
| 寓意摘要 | 一句话概括（30字以内） |
| 操作按钮 | "查看详情" |


**交互规则**：

+ 点击卡片进入详情页
+ 卡片按评分从高到低排序
+ 支持滚动浏览

**底部操作按钮**：
- 固定在页面底部
- "再来一组"按钮：跳转回输入页重新起名
- 使用毛玻璃渐变背景效果

---

#### 功能6：名字详情页 (P1)
**功能描述**：展示单个名字的完整解析

**页面结构**：

```plain
┌─────────────────────────┐
│  ← 返回                 │
├─────────────────────────┤
│                         │
│   李泽言                │
│   Lǐ Zé Yán            │
│                         │
│   ┌───────────────────┐ │
│   │ 综合评分: ⭐⭐⭐⭐⭐ 95分 │ │
│   └───────────────────┘ │
│                         │
│   📖 寓意解析           │
│   恩泽之言，润物无声。   │
│   寓意孩子如春雨般，    │
│   以温和的方式滋润他人，│
│   传递正能量。          │
│                         │
│   📚 典故出处           │
│   取自《诗经·大雅》：    │
│   "言念君子，温其如玉"  │
│   + 郑玄注：泽，润也    │
│                         │
│   ☯️ 五行分析           │
│   李(木) 泽(水) 言(木)  │
│   水木相生，寓意成长    │
│   顺利，才华横溢。      │
│                         │
│   ✨ 亮点说明           │
│   音律和谐，平仄相间，  │
│   朗朗上口；字形美观，  │
│   书写流畅。            │
│                         │
│   ┌───────────────────┐ │
│   │ [⭐ 收藏] [↗ 分享] │ │
│   └───────────────────┘ │
└─────────────────────────┘
```

**展示内容**：

| 模块 | 内容 | 来源 |
| --- | --- | --- |
| 综合评分 | 圆形进度条 + 总分 | AI生成 |
| 三维评分 | 音律美感/文化底蕴/开运吉祥进度条 | AI生成 |
| 五行分析 | 五元素状态标签 + 分析文字 | AI生成 |
| 寓意解析 | 逐字解析（字/拼音/含义/详情） | AI生成 |
| 典故出处 | 诗词内容/来源/解释 | AI生成 |
| 亮点说明 | 声调/结构/笔画/意境2x2网格 | AI生成 |

**三维评分展示**：

| 维度 | 说明 | 展示形式 |
| --- | --- | --- |
| 音律美感 | 声调搭配、朗朗上口程度 | 进度条 + 分数 |
| 文化底蕴 | 诗词典故、文化内涵 | 进度条 + 分数 |
| 开运吉祥 | 五行搭配、吉祥寓意 | 进度条 + 分数 |

**五行分析状态显示**：

| 状态 | 含义 | 显示样式 |
| --- | --- | --- |
| 旺 | 旺盛有力 | 高亮标签 |
| 相 | 相生相助 | 高亮标签 |
| 微 | 微弱存在 | 半透明标签 |
| 弱 | 力量不足 | 半透明标签 |
| 平 | 平衡状态 | 半透明标签 |

**亮点说明网格**：

| 项目 | 示例值 |
| --- | --- |
| 声调平仄 | "仄-平-平" |
| 字形结构 | "左右平衡" |
| 笔画总数 | "共15画（大吉）" |
| 意境联想 | "温润儒雅" |


**交互功能**：

+ 返回：返回列表页
+ 收藏：底部固定按钮，收藏到本地（localStorage），切换显示"已收藏"/"保存收藏"

---

#### 功能7：本地收藏 (P1)
**功能描述**：用户收藏喜欢的名字，方便后续查看

**数据结构**：

```javascript
// localStorage key: 'baby_name_favorites'
{
  "code": "BABY-XXX",
  "favorites": [
    {
      "id": "unique_id",
      "name": "李泽言",
      "full_name": "李泽言",
      "pinyin": "Lǐ Zé Yán",
      "meaning": "...",
      "cultural_source": "...",
      "score": 95,
      "highlight": "...",
      "createdAt": "2025-12-27T10:00:00Z"
    }
  ]
}
```

**功能点**：

+ 点击收藏按钮切换收藏状态
+ 收藏后按钮显示"已收藏"
+ 在结果页标记已收藏的名字
+ 支持取消收藏
+ 收藏数据持久化存储

**收藏筛选功能**：
- 顶部横向滚动筛选标签
- 筛选选项：

| 标签 | 筛选条件 | 显示数量 |
| --- | --- | --- |
| 全部 | 显示所有收藏 | 收藏总数 |
| 高分推荐 | 评分≥96分 | 符合条件的数量 |
| 最新添加 | 按时间倒序 | 全部收藏 |

- 选中项高亮显示（粉色背景 + 白色文字）

**空状态设计**：
- 当无收藏时显示：
  - 书签关闭图标
  - "暂无收藏记录"文案

**底部提示**：
- "已通过付费授权，收藏云端同步中"

**数据存储与同步规则**：

| 存储位置 | 用途 | 同步策略 |
| --- | --- | --- |
| 本地localStorage | 离线可用、快速访问 | 实时写入 |
| 云端 | 数据备份、跨设备访问 | 激活用户实时同步 |

**同步策略**：
- **已激活用户**：收藏实时同步到云端，多设备自动保持一致
- **未激活用户**：仅存储在本地，激活后自动合并到云端
- **冲突处理**：以"最新修改时间"为准，自动合并去重
- **收藏数量上限**：单用户最多收藏100个名字
- **离线处理**：网络异常时先存储本地，恢复网络后自动同步

---

#### 功能8：历史记录 (P1)
**功能描述**：查看用户历史起名记录

**展示形式**：
- 时间线样式布局
- 左侧圆形日期图标
- 右侧记录信息卡片

**每条记录包含**：

| 字段 | 示例 |
| --- | --- |
| 日期 | 2023-10-27 |
| 姓氏 | 陈 |
| 性别 | 男孩/女孩 |
| 生成的名字 | 横向滚动名字列表（5个） |

**视觉效果**：
- 渐变时间线（从粉色到灰色）
- 名字以圆角标签形式横向滚动展示
- 点击名字可跳转详情页（如实现）

**历史记录存储规则**：

| 项目 | 规则 |
| --- | --- |
| 触发时机 | 每次成功起名后自动保存 |
| 保存内容 | 日期时间、姓氏、性别、出生日期、名字列表（5个） |
| 存储上限 | 最近100条记录 |
| 保留时间 | 永久保留（除非用户主动删除） |
| 存储位置 | 云端为主，本地缓存为辅 |
| 排序方式 | 按时间倒序（最新的在前） |

---

#### 功能9：使用状态展示 (P1)
**功能描述**：显示用户激活状态和频率限制提醒

**展示位置**：输入页面顶部固定
**展示内容**：

```plain
┌─────────────────────────────────┐
│  已激活 · 授权码长期有效          │
└─────────────────────────────────┘
```

**频率限制提醒**：
- 当用户操作过于频繁时，在页面顶部显示倒计时：
```plain
┌─────────────────────────────────┐
│  请等待 25 秒后再试               │
└─────────────────────────────────┘
```

---

## 5. 用户故事
### 故事1：首次购买使用
```plain
作为一个 准妈妈
我想要 通过授权码激活应用
以便于 为我的宝宝起个好名字

验收标准：
- 输入正确的授权码后能够成功激活
- 激活后授权码立即销毁，无法再次使用
- 激活后可无限次使用起名功能（有频率限制）
- 激活后能够直接进入起名页面
- 输入错误的授权码时有明确提示
```

### 故事2：录入宝宝信息
```plain
作为一个 用户
我想要 输入宝宝的姓氏、性别等信息
以便于 AI能够生成符合要求的名字

验收标准：
- 能够输入姓氏（必填）
- 能够选择性别（必填）
- 可以选择出生日期时间（可选）
- 可以输入特殊要求（可选）
- 表单验证友好，错误提示清晰
```

### 故事3：AI智能起名
```plain
作为一个 用户
我想要 AI根据我提供的信息生成名字
以便于 快速获得专业的起名建议

验收标准：
- 点击"开始起名"后能够看到加载提示
- 等待时间不超过10秒
- 能够获得5个名字推荐
- 名字有评分和简要说明
```

### 故事4：查看名字详情
```plain
作为一个 用户
我想要 查看每个名字的详细解析
以便于 了解名字的完整寓意和文化内涵

验收标准：
- 点击名字卡片能够进入详情页
- 详情页包含寓意、出处、五行等信息
- 内容详细易懂
- 支持返回列表
```

### 故事5：收藏喜欢的名字
```plain
作为一个 用户
我想要 收藏我喜欢的名字
以便于 后续查看和对比

验收标准：
- 能够收藏/取消收藏名字
- 收藏状态有明确标识
- 收藏的名字能够持久保存
- 在结果页能够看到收藏标记
- 收藏页支持筛选（全部/高分/最新）
```

### 故事6：查看历史记录
```plain
作为一个 用户
我想要 查看我之前起名的历史记录
以便于 回顾之前生成的名字

验收标准：
- 能够看到按时间排序的历史记录
- 每条记录显示日期、姓氏、性别
- 能够查看每次生成的所有名字
```

### 故事7：使用底部导航
```plain
作为一个 用户
我想要 快速在首页、历史、收藏之间切换
以便于 方便地访问各个功能

验收标准：
- 底部导航栏在相应页面显示
- 当前页面图标高亮显示
- 点击可快速切换页面
```

## 6. 交互流程设计
### 6.1 整体用户旅程
```plain
┌─────────────┐
│  获得授权码  │  ← 微信/支付宝/二维码购买
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  打开应用    │  ← 浏览器访问链接
└──────┬──────┘
       │
       ▼
┌─────────────┐       ┌──────────────┐
│ 输入授权码   │  No   │  提示错误    │
│  验证激活    │◄──────│  重新输入    │
└──────┬──────┘       └──────────────┘
       │ Yes
       ▼
┌─────────────┐
│ 填写宝宝信息 │
│  姓氏/性别   │
│  生日/要求   │
└──────┬──────┘
       │
       ▼
┌─────────────┐
│ AI生成名字   │
│  Loading... │
└──────┬──────┘
       │
       ▼
┌─────────────┐
│ 浏览名字列表 │
│  5个推荐    │
└──────┬──────┘
       │
       ▼
┌─────────────┐       ┌──────────────┐
│ 查看名字详情 │◄─────│  收藏/返回   │
│  深度了解   │       └──────────────┘
└─────────────┘
       │
       ▼
┌─────────────┐
│  做出选择    │
│  满意完成    │
└─────────────┘
```

### 6.2 页面跳转关系
```plain
/ (首页) [显示底部导航: 首页/历史/收藏]
  │
  ├─→ /activation (激活页) [隐藏底部导航]
  │      └─→ /input (激活成功后跳转)
  │
  ├─→ /input (起名表单) [隐藏底部导航]
  │      │
  │      ├─→ /loading (生成中) [隐藏底部导航]
  │      │      │
  │      │      └─→ /results (结果列表) [隐藏底部导航]
  │      │             │
  │      │             └─→ /detail/:id (详情页) [隐藏底部导航]
  │      │                    │
  │      │                    └─→ 返回 /results
  │      │
  │      └─→ 可返回首页
  │
  ├─→ /history (历史记录) [显示底部导航]
  │
  └─→ /favorites (收藏页) [显示底部导航]
             │
             └─→ /detail/:id (点击收藏项)

底部导航栏显示规则:
- 显示: /, /history, /favorites
- 隐藏: /activation, /input, /loading, /results, /detail/:id
```

### 6.3 关键交互细节
#### 授权页交互
```plain
状态1：未输入
- 输入框为空
- 激活按钮禁用（灰色）

状态2：输入中
- 实时格式化（自动转大写，每4位加-）
- 格式错误时输入框红色边框
- 激活按钮可点击

状态3：提交中
- 按钮显示loading
- 禁用输入框

状态4：成功
- 绿色对勾动画
- "激活成功"提示
- 自动跳转起名页

状态5：失败
- 震动效果
- 错误提示红色显示
- 输入框保留内容
```

#### 起名页交互
```plain
表单填写：
- 姓氏：聚焦时弹出键盘，支持中文输入
- 性别：大按钮单选，选中高亮
- 日期：底部弹出日期选择器
- 要求：字数统计（x/200）

提交验证：
- 逐个检查必填项
- 未填写的项标红并滚动到该位置
- 全部通过后显示确认弹窗

生成中：
- 圆形进度条（0-100%）
- 中央动画（宝宝图标 + 星星装饰 + 脉冲圆圈）
- 动态状态标签（根据进度变化）：
  - 0-30%: "正在分析姓氏特点..."
  - 30-70%: "正在查阅诗词典故..."
  - 70-90%: "正在筛选最佳组合..."
  - 90-100%: "AI正在深度计算中..."
- 温馨提示框："为了呈现最佳寓意，AI正在深度计算中，好名字值得片刻等待"
```

---

**文档结束**

